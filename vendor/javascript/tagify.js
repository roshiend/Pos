import r from"optimist";var a={};var e=/(.*require\(['"])(.*)(['"]\).*)/g;a=function(r){var a=r.split("\n");var n=0;while(a[n].match(/^\s*\/\/.*/g)||a[n].match(/^\s*$/g))n++;var l=a[n].split(e);return l[1]?{line:n,module:l[2],match:l}:null};var n=a;var l;var i="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var t={};var o=r;var s=n;t=function(r,a,e){r=o(r).option("comment",{default:false,boolean:true,alias:"c"}).argv;i.nextReq=l=s(a);if(null!==l){if(r.comment){var n=a.split("\n");var t=n[l.line];t=t.replace(/^(\s*)/g,"$1//");n.splice(l.line,1,t);a=n.join("\n");return a}e.bundle.ignore(l.module)}};var f=t;var v;var u="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var c={};var p=r;var g=n;c=function(r,a,e){r=p(r).option("replace",{default:false,boolean:true,alias:"r"}).argv;u.nextReq=v=g(a);if(null!==v){var n=r._[0];if(r.replace){var l=a.split("\n");var i=v.match[1]+n+v.match[3];l.splice(v.line,1,i);a=l.join("\n");return a}e.bundle.alias(v.module,n)}};var d=c;var m={};var b=/^\s*\/\/\s*@browserify[\s-](\w*)\s*(.*)/g;var getMiddleware=function(r,a){return function(e){e.register((function(n,l){var i=n.split("\n");for(var t=0;t<i.length;t++){var o=i[t].split(b);if(o[1]){var s=o[1];var f=o[2].split(/\s+/g);var v=f[0].split(/\[(.*)\]/g)[1];if(v){f.splice(0,1);var u=false;if("!"===v.charAt(0)){u=true;v=v.substring(1)}var c=-1!==a.indexOf(v);if(!u&&!c||c&&u)continue}var p={bundle:e,line:t,file:l,command:s};var g=r[s];if(g){var d=g.call(null,f,i.slice(t+1).join("\n"),p);"string"===typeof d&&(d=d.split("\n"));Array.isArray(d)&&(i=i.slice(0,t+1).concat(d))}}}return i.join("\n")}))}};var h={ignore:f,alias:d};m=getMiddleware(h,[]);m.flags=function(r){return getMiddleware(h,r)};var y=m;const x=m.flags;export default y;export{x as flags};

